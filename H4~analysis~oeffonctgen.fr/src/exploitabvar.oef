\title{Exploiter un tableau de variations, équations}
\author{Cyrille,Douriez;Bruno,MIFSUD}
\email{cyrille.douriez@ac-amiens.fr;communaute.mutuwims@laposte.net}

\computeanswer{no}


\css{<style>
table.tab_var {margin-left:auto;margin-right:auto;
   border:solid 1px black;}
table.tab_var tr, table.tab_var td, table.tab_var th {
   padding:7pt;margin-top:10px; margin-bottom:10px;
   text-align:center; border-collapse:collapse; min-width:10pt;
   }
table.tab_var th { border:solid 1px black}
table.tab_var tr { border:solid 1px black}
</style>
}

\integer{variat=random(1,2)}

\text{monotone = \(\nearrow),\(\searrow)}

\integer{x1=random(-12..-8)}
\integer{x2=random(-4..1)}
\integer{x3=random(5..8)}
\integer{x4=random(12..17)}

\integer{y1=(\variat=1)? \x3 : \x1-random(3..6)}
\integer{y2=(\variat=1)? random(-8..-3) : random(3..7)}
\integer{y3=(\variat=1)? \y1+random(3..7) : \x1}
\integer{\y4=(\variat=1)? random(-1..(\y1)-2) : \y2+random(3..6)}

\integer{choix1=random(1,2)}
\integer{choix2=random(1,2)}

\if {\choix1=1}
{\if {\choix2=1}
{\integer{a1=random((\y1+1)..(\y3-1))}}
{\integer{a1=random((\y2+1)..(\y4-1))}}
\integer{rep1=4-\variat}
\integer{a2=(\variat=1)? random((\y4+1)..(\y1-1)) : random((\y3+1)..(\y2-1))}
\integer{rep2=4}
}
{\if {\choix2=1}
{\integer{a2=random((\y1+1)..(\y3-1))}}
{\integer{a2=random((\y2+1)..(\y4-1))}}
\integer{rep2=4-\variat}
\integer{a1=(\variat=1)? random((\y4+1)..(\y1-1)) : random((\y3+1)..(\y2-1))}
\integer{rep1=4}
}
\integer{choix3=random(1,2)}
\if{\variat=1}
{\integer{a3=(\choix3=1)?  \y3 : \y3+random(1..4)}
\integer{a4=(\choix3=2)?  \y3 : \y3+random(1..4)}}
{\integer{a3=(\choix3=1)?  \y3 :  \y1-random(1..4) }
\integer{a4=(\choix3=2)?  \y3 : \y1-random(1..4) }}

\integer{rep3=(\choix3=1)? (\variat+1) : 1}
\integer{rep4=(\choix3=2)? (\variat+1) : 1}
%%%%%%%%%%%%%%%%%%%%%%%%%%%% Tableau énoncé %%%%%%%%%%%%%%%%%

\if {\variat=1}
{  \text{pos=top,bottom,top,bottom}
\text{img=<table class="wimscenter wimsnoborder tab_var">
<tr>
  <th style="width:15%;"> \(x)</th>
      <td style="width:8%;text-align:left"> \x1</td>
      <td style="width:8%;"></td>
      <td style="width:15%;">\x2</td>
      <td style="width:8%;"></td>
      <td style="width:15%;">\x3</td>
      <td style="width:8%;"></td>
      <td style="width:8%;text-align:right">\x4</td>
</tr><tr>
  <th valign="middle" style="width:15%;height:5em;">\(f(x))</th>
     <td style="width:8%;text-align:left" valign="\pos[1]"> \y1 </td>
     <td style="width:8%;font-size:200%;"> \monotone[2] </td>
     <td style="width:15%;" valign="\pos[2]"> \y2 </td>
     <td style="width:8%;font-size:200%;"> \monotone[1]  </td>
     <td style="width:15%;" valign="\pos[3]"> \y3 </td>
     <td style="width:8%;font-size:200%;"> \monotone[2] </td>
     <td style="width:8%;text-align:right" valign="\pos[4]"> \y4 </td>
      </tr>
</table>
}

}
{  \text{pos=bottom,top,bottom,top}
\text{img=<table class="wimscenter wimsnoborder tab_var">
<tr>
  <th style="width:15%;"> \(x)</th>
      <td style="width:8%;text-align:left"> \x1</td>
      <td style="width:8%;"></td>
      <td style="width:15%;">\x2</td>
      <td style="width:8%;"></td>
      <td style="width:15%;">\x3</td>
      <td style="width:8%;"></td>
      <td style="width:8%;text-align:right">\x4</td>
</tr><tr>
  <th valign="middle" style="width:15%;height:5em;">\(f(x))</th>
     <td style="width:8%;text-align:left" valign="\pos[1]"> \y1 </td>
     <td style="width:8%;font-size:200%;"> \monotone[1] </td>
     <td style="width:15%;" valign="\pos[2]"> \y2 </td>
     <td style="width:8%;font-size:200%;"> \monotone[2]  </td>
     <td style="width:15%;" valign="\pos[3]"> \y3 </td>
     <td style="width:8%;font-size:200%;"> \monotone[1] </td>
     <td style="width:8%;text-align:right" valign="\pos[4]"> \y4 </td>
      </tr>
</table>
}
\text{arrow=arrow 1.2,-2.7,3.5,-0.8,15, black
arrow 4.5,-0.8,7.5,-2.8,15, black
arrow 8.5,-2.8,11,-0.8,15, black}
\text{arrowsol=arrow 1.2,-2.7,3.5,-0.8,15, blue
arrow 4.5,-0.8,7.5,-2.8,15, red
arrow 8.5,-2.8,11,-0.8,15, orange}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%% fin image énoncé


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% solution %%%%%%%%%%%%%%%%%
\integer{b11=min(\y1,\y2)}
\integer{b12=max(\y1,\y2)}
\integer{b21=min(\y2,\y3)}
\integer{b22=max(\y2,\y3)}
\integer{b31=min(\y3,\y4)}
\integer{b32=max(\y3,\y4)}
\text{prop=0,1,2,3}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% fin solution %%%%%%%%%%%%%%%%%
\statement{\img
<div class=wims_question>
Donner le nombre de solutions des équations suivantes :
<ul class=wims_nopuce>
<li>
L'équation \(f(x)=\a1) possède \embed{r1}  solutions.</li>
<li>L'équation \(f(x)=\a2) possède \embed{r2}  solutions.</li>
<li>L'équation \(f(x)=\a3) possède \embed{r3}  solutions.</li>
<li>L'équation \(f(x)=\a4) possède \embed{r4}  solutions.</li>

</ul></div>
}
\answer{}{\rep1;0,1,2,3}{type=menu}
\answer{}{\rep2;0,1,2,3}{type=menu}
\answer{}{\rep3;0,1,2,3}{type=menu}
\answer{}{\rep4;0,1,2,3}{type=menu}
%%%%%%%%% à  finir : même couleur sur flèche et sur intervalle %%%%%%%%%%%%
\solution{
\draw{640,240}{\img
\arrowsol}
<div>Pour l'équation : \(f(x)= \a1) :
<ul>
<li>\(\a1) \if{(\a1-\y1)*(\a1-\y2)>0}{ n'apartient pas }{ <font color="green">appartient</font> } à l'intervalle \(\color{blue} \left [ \b11 ; \b12 \right ] ).
</li><li>\(\a1) \if{(\a1-\y3)*(\a1-\y2)>0}{ n'apartient pas }{ <font color="green">appartient</font> } à l'intervalle \(\color{red} \left [ \b21 ; \b22 \right ]).
</li><li>\(\a1) \if{(\a1-\y3)*(\a1-\y4)>0}{ n'apartient pas }{ <font color="green">appartient</font> } à l'intervalle \(\color{orange} \left [ \b31 ; \b32 \right ]).
</li>
</ul>
<u>Bilan :</u> \(f(x)= \a1) possède \(\color{green} \prop[\rep1]) \if{\prop[\rep1]>1}{solutions.}{solution.}
</div>
<div>Pour l'équation : \(f(x)= \a2) :
<ul>
<li>\(\a2) \if{(\a2-\y1)*(\a2-\y2)>0}{ n'apartient pas }{ <font color="green">appartient</font> } à l'intervalle \(\color{blue} \left [ \b11 ; \b12 \right ] ).
</li><li>\(\a2) \if{(\a2-\y3)*(\a2-\y2)>0}{ n'apartient pas }{ <font color="green">appartient</font> } à l'intervalle \(\color{red} \left [ \b21 ; \b22 \right ]).
</li><li>\(\a2) \if{(\a2-\y3)*(\a2-\y4)>0}{ n'apartient pas }{ <font color="green">appartient</font> } à l'intervalle \(\color{orange} \left [ \b31 ; \b32 \right ]).
</li>
</ul>
<u>Bilan :</u> \(f(x)= \a2) possède \(\color{green} \prop[\rep2]) \if{\prop[\rep2]>1}{solutions.}{solution.}
</div>
<div>Pour l'équation : \(f(x)= \a3) :
<ul>
<li>\(\a3) \if{(\a3-\y1)*(\a3-\y2)>0}{ n'apartient pas }{ <font color="green">appartient</font> } à l'intervalle \(\color{blue} \left [ \b11 ; \b12 \right ] ).
</li><li>\(\a3) \if{(\a3-\y3)*(\a3-\y2)>0}{ n'apartient pas }{ <font color="green">appartient</font> } à l'intervalle \(\color{red} \left [ \b21 ; \b22 \right ]).
</li><li>\(\a3) \if{(\a3-\y3)*(\a3-\y4)>0}{ n'apartient pas }{ <font color="green">appartient</font> } à l'intervalle \(\color{orange} \left [ \b31 ; \b32 \right ]).
</li>
</ul>
<u>Bilan :</u> \(f(x)= \a3) possède \(\color{green} \prop[\rep3]) \if{\prop[\rep3]>1}{solutions.}{solution.}
</div>
<div>Pour l'équation : \(f(x)= \a4) :
<ul>
<li>\(\a4) \if{(\a4-\y1)*(\a4-\y2)>0}{ n'apartient pas }{ <font color="green">appartient</font> } à l'intervalle \(\color{blue} \left [ \b11 ; \b12 \right ] ).
</li><li>\(\a4) \if{(\a4-\y3)*(\a4-\y2)>0}{ n'apartient pas }{ <font color="green">appartient</font> } à l'intervalle \(\color{red} \left [ \b21 ; \b22 \right ]).
</li><li>\(\a4) \if{(\a4-\y3)*(\a4-\y4)>0}{ n'apartient pas }{ <font color="green">appartient</font> } à l'intervalle \(\color{orange} \left [ \b31 ; \b32 \right ]).
</li>
</ul>
<u>Bilan :</u> \(f(x)= \a4) possède \(\color{green} \prop[\rep4]) \if{\prop[\rep4]>1}{solutions.}{solution.}
</div>






}
